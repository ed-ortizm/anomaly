[common]
meta_data = 0_01_z_inf_2_0_snr_inf
bin = bin_05
architecture = 1024_512_128_10_128_512_1024
meta_bin = ${meta_data}/${bin}
meta_bin_architecture = ${meta_bin}/${architecture}

[model]
header = anomalousVae
reconstruction = 1000
mmd = 1
lambda = 69
name = ${header}_rec_${reconstruction}_mmd_${mmd}_lambda_${lambda}

[directory]
user = /home/edgar
work = ${user}/anomaly

meta_data = ${work}/data/${common:meta_data}
data = ${meta_data}/${common:bin}

vae = ${user}/autoencoders-outlier-detection
model = ${vae}/models/${common:meta_bin_architecture}/${model:name}

input = ${vae}/data/${common:meta_bin}
output = ${model}/anomaly

[files]
meta_data = ${common:meta_data}.csv.gz
grid = wave.npy
train_id = indexes_interpolate.npy
specobjid = ${common:bin}_index_specobjid.npy

observation = ${common:bin}_fluxes.npy
reconstruction = ${common:bin}_reconstruction.npy


[score]
metric = mse, mad, lp
p = 0.25, 0.5, 0.75
relative = True, False
percentage = 25, 50, 75, 100

[lines]
filter = True, False

lines = OII_3727
    H_delta_4102
    H_gamma_4340
    H_beta_4861
    OIII_4959
    OIII_5007
    NII_6548
    H_alpha_6563
    NII_6584
    SII_6716
    SII_6720
    SII_6731

velocity = 10, 20, 30, 40, 50, 75, 100

[parameters]
reconstruction_in_drive = False
save_scores = True
